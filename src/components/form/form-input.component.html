<ng-container [formGroup]="form">
  @if (label) {
    <label [attr.for]="id">{{ label }}</label>
  }
  <input
    class="px-2 py-1 w-full rounded border text-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-fuchsia-700"
    [class]="{
      'bg-slate-400': !(errors$ | async),
      'bg-fuchsia-200': errors$ | async,
      'border-fuchsia-500': errors$ | async,
      'border-slate-300': !(errors$ | async)
    }"
    [formControlName]="name"
    [id]="id"
    [attr.max]="max"
    [attr.min]="min"
    [attr.type]="type"
  />
  @if (errors$ | async; as errors) {
    <div class="mt-2 text-xs text-slate-300">
      @if (errors.required) {
        <span>This field is required.</span>
      }
      @if (errors.min) {
        <span>This field has a minimum value of {{ min || "unknown" }}.</span>
      }
      @if (errors.max) {
        <span>This field has a maximum value of {{ max || "unknown" }}.</span>
      }
    </div>
  }
</ng-container>
